---
import './PostTags.css'

const { tags, classes } = Astro.props

const slugify = (str: string): string => {
  return str
    .toLowerCase()
    .replace(/[^\w\s-]/g, '') // remove non-word chars (excluding spaces and dashes)
    .replace(/[\s_-]+/g, '-') // replace spaces and underscores with a single dash
    .replace(/^-+|-+$/g, '') // remove leading/trailing dashes
}
---

<div class:list={['post-tags', classes]}>
  {
    tags.map((tag) => {
      return (
        <a class="post-tags__link" href={`/tag/${slugify(tag)}`}>
          <span>#</span>
          {tag}
        </a>
      )
    })
  }
</div>
